import{_ as s,c as a,o as n,a as l}from"./app.8c9f81b3.js";const A=JSON.parse('{"title":"pxtarget.json 手册页","description":"","frontmatter":{},"headers":[{"level":2,"title":"TargetBundle","slug":"targetbundle","link":"#targetbundle","children":[{"level":3,"title":"versions: TargetVersions","slug":"versions-targetversions","link":"#versions-targetversions","children":[]},{"level":3,"title":"bundleddirs： string[]","slug":"bundleddirs-string","link":"#bundleddirs-string","children":[]}]},{"level":2,"title":"AppTarget","slug":"apptarget","link":"#apptarget","children":[{"level":3,"title":"corepkg: string","slug":"corepkg-string","link":"#corepkg-string","children":[]},{"level":3,"title":"compile: CompileTarget","slug":"compile-compiletarget","link":"#compile-compiletarget","children":[]},{"level":3,"title":"appTheme: AppTheme","slug":"apptheme-apptheme","link":"#apptheme-apptheme","children":[]},{"level":3,"title":"cloud?: AppCloud","slug":"cloud-appcloud","link":"#cloud-appcloud","children":[]},{"level":3,"title":"simulator?: AppSimulator","slug":"simulator-appsimulator","link":"#simulator-appsimulator","children":[]},{"level":3,"title":"runtime?: RuntimeOptions","slug":"runtime-runtimeoptions","link":"#runtime-runtimeoptions","children":[]},{"level":3,"title":"compileService?: TargetCompileService","slug":"compileservice-targetcompileservice","link":"#compileservice-targetcompileservice","children":[]}]},{"level":2,"title":"其他设置","slug":"其他设置","link":"#其他设置","children":[{"level":3,"title":"模板项目","slug":"模板项目","link":"#模板项目","children":[]}]}],"relativePath":"guide/pxtarget.md","lastUpdated":1675251710000}'),p={name:"guide/pxtarget.md"},o=l(`<h1 id="pxtarget-json-手册页" tabindex="-1">pxtarget.json 手册页 <a class="header-anchor" href="#pxtarget-json-手册页" aria-hidden="true">#</a></h1><p>PXT 目标由 JSON 文件描述。 下面是两个文件示例，一个简单，一个更复杂：<code>pxtarget.json</code> <code>pxtarget.json</code></p><ul><li><a href="https://github.com/microsoft/pxt-sample/blob/master/pxtarget.json" target="_blank" rel="noreferrer">https://github.com/microsoft/pxt-sample/blob/master/pxtarget.json</a></li><li><a href="https://github.com/microsoft/pxt-microbit/blob/master/pxtarget.json" target="_blank" rel="noreferrer">https://github.com/microsoft/pxt-microbit/blob/master/pxtarget.json</a></li></ul><p>JSON 文件由接口和 在顶层描述，如下所示。 注释中标记为“派生”的字段由来自其他来源的 PXT 填充， 如前所述。以下所有其他字段均由用户提供。可选字段的名称后有一个“？” <code>pxtarget.json TargetBundle AppTarget</code></p><p>所有 PXT 目标还必须提供 NPM package.json 文件，该文件描述了构建目标所需的版本控制、依赖关系和资源。 您可以在此处找到 pxt-sample 和 pxt-microbit 的示例：</p><ul><li><a href="https://github.com/microsoft/pxt-sample/blob/master/package.json" target="_blank" rel="noreferrer">https://github.com/microsoft/pxt-sample/blob/master/package.json</a></li><li><a href="https://github.com/microsoft/pxt-microbit/blob/master/package.json" target="_blank" rel="noreferrer">https://github.com/microsoft/pxt-microbit/blob/master/package.json</a></li></ul><p>下面详细介绍了如何<a href="/pxt-doc/guide/target-creation">创建目标</a></p><h2 id="targetbundle" tabindex="-1">TargetBundle <a class="header-anchor" href="#targetbundle" aria-hidden="true">#</a></h2><p>该接口描述了捆绑的 PXT 软件包 与目标（而不是从 Web 中提取）以及语义 目标版本：<code>TargetBundle</code></p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">interface</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">TargetBundle</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">AppTarget</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">versions</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">TargetVersions</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;">       </span><span style="color:#676E95;font-style:italic;">// 定义目标的语义版本控制</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">bundleddirs</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#A6ACCD;">[]</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;">          </span><span style="color:#676E95;font-style:italic;">// 打包到webapp中的包 (libs/*)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h3 id="versions-targetversions" tabindex="-1">versions: TargetVersions <a class="header-anchor" href="#versions-targetversions" aria-hidden="true">#</a></h3><p>PXT 使用其目标和包的<a href="http://semver.org/" target="_blank" rel="noreferrer">语义版本控制</a>。目标版本 界面有两个相关字段，填充如下：</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">interface</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">TargetVersions</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">target</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// 等同于 &quot;package.json&quot; 中的 version 字段</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">pxt</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;">// 等同于 &quot;package.json&quot; 或 &quot;node_modules/pxt-core/package.json&quot; 中的 version 字段 </span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h3 id="bundleddirs-string" tabindex="-1">bundleddirs： string[] <a class="header-anchor" href="#bundleddirs-string" aria-hidden="true">#</a></h3><p>除了所需的“ corepkg”之外，目标还可以使用许多软件包。为了确保将扩展程序捆绑到Web应用程序中，您必须将其包含在此列表中。例如，在 <a href="http://github.com/microsoft/pxt-microbit/blob/master" target="_blank" rel="noreferrer">http://github.com/microsoft/pxt-microbit/blob/master</a> 中，我们看到：</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">bundleddirs</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">: [</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">libs/core</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">libs/radio</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">libs/devices</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">libs/bluetooth</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"></span></code></pre></div><p>这样可以确保将上述四个软件包被编译/捆绑到Web应用程序中，并在Web应用程序的初始下载中交付。micro:bit的其他软件包，例如 <a href="http://github.com/microsoft/pxt-neopixel" target="_blank" rel="noreferrer">http://github.com/microsoft/pxt-neopixel</a> 不捆绑并保留在github.com上，网络应用程序会根据需要加载它们（通常是通过“扩展”最终用户的要求）。</p><h2 id="apptarget" tabindex="-1">AppTarget <a class="header-anchor" href="#apptarget" aria-hidden="true">#</a></h2><p>大多数用户定义的字段都由接口描述。 <code>pxttarget.json</code> <code>AppTarget</code></p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">interface</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">AppTarget</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">id</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;">             </span><span style="color:#676E95;font-style:italic;">// 唯一ID：应匹配 ^[A-Z]+$;用于URL和域名</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;">           </span><span style="color:#676E95;font-style:italic;">// 友好的名称(空间允许)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">corepkg</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;">        </span><span style="color:#676E95;font-style:italic;">// 指定目标核心API的目录（在libs/下）</span></span>
<span class="line"><span style="color:#89DDFF;">                            </span><span style="color:#676E95;font-style:italic;">// 这种库也称为包。请参见下面的部分进行描述。</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">compile</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">CompileTarget</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// 请参见下面的部分进行描述</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">appTheme</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">AppTheme</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;">     </span><span style="color:#676E95;font-style:italic;">// 请参见下面的部分进行描述</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">nickname</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;">      </span><span style="color:#676E95;font-style:italic;">// 友好的ID（应匹配 ^[A-ZA-Z]+$）;生成文件时使用 </span></span>
<span class="line"><span style="color:#89DDFF;">                            </span><span style="color:#676E95;font-style:italic;">// 文件夹等。默认为ID</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">platformid</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;">// 在GitHub搜索包中用作搜索词；默认为ID</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">title</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;">         </span><span style="color:#676E95;font-style:italic;">// 用于HTML标题标签</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">description</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;">   </span><span style="color:#676E95;font-style:italic;">// 用于HTML META描述</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">cloud</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">AppCloud</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;">       </span><span style="color:#676E95;font-style:italic;">// 有关其余字段的描述，请参见下面的部分</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">simulator</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">AppSimulator</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">runtime</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">RuntimeOptions</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">compileService</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">TargetCompileService</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div><h3 id="corepkg-string" tabindex="-1">corepkg: string <a class="header-anchor" href="#corepkg-string" aria-hidden="true">#</a></h3><p>目标必须在目标的核心API所在的libs/目录下有一个核心包。核心包应始终与web应用捆绑在一起，如下所示：</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">corepkg</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">: </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">core</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">bundleddirs</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">: [</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">libs/core</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">]</span></span>
<span class="line"></span></code></pre></div><h3 id="compile-compiletarget" tabindex="-1">compile: CompileTarget <a class="header-anchor" href="#compile-compiletarget" aria-hidden="true">#</a></h3><p>PXT支持对JavaScript和ARM机器代码（本机）的编译。纯Web目标不需要本机编译路径。</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">interface</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">CompileTarget</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">isNative</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">boolean</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;">      </span><span style="color:#676E95;font-style:italic;">// false-&gt;仅用于模拟器的JavaScript汇编</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">hasHex</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">boolean</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;">        </span><span style="color:#676E95;font-style:italic;">// 输出二进制文件（意味着isNative为true）</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">nativeType</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;">// 目前只有“thumb”，尽管AVR有一个原型</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// 输出文件选项</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">useUF2</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">boolean</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;">       </span><span style="color:#676E95;font-style:italic;">// true-&gt;输出UF2格式（请参阅 https://github.com/microsoft/uf2），false--&gt; hex文件</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">hexMimeType</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;">   </span><span style="color:#676E95;font-style:italic;">// 十六进制文件的MIME类型</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">driveName</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;">     </span><span style="color:#676E95;font-style:italic;">// 通过MSD插入时，该设备将如何显示？</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">deployDrives</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;">// 应复制HEX/UF2文件的驱动器的部分名称</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// 代码生成选项</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">floatingPoint</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">boolean</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// 在JavaScript中使用浮点（默认为32位整数）</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">taggedInts</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">boolean</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;">// true-&gt;在本机中使用带标记的整数（表示floatingPoint）</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">shortPointers</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">boolean</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// true-&gt;16位指针</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">flashCodeAlign</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">number</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// 默认为1K页面大小</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">flashChecksumAddr</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">number</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;">// 代码校验和的存储位置</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// 高级调试选项</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">boxDebug</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">boolean</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;">     </span><span style="color:#676E95;font-style:italic;">// 生成装箱调试代码</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">jsRefCounting</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">boolean</span><span style="color:#89DDFF;">;</span><span style="color:#676E95;font-style:italic;">// 在JS中生成调试以进行参考计数方案</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">openocdScript</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h3 id="apptheme-apptheme" tabindex="-1">appTheme: AppTheme <a class="header-anchor" href="#apptheme-apptheme" aria-hidden="true">#</a></h3><p>PXT有大量选项用于控制目标的外观和感觉。以下是pxt示例中的appTheme，其中包含一些注释：</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">appTheme</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">: </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// 用于UI各种组件的URL</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">logoUrl</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">https://microsoft.github.io/pxt-sample/</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">homeUrl</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">https://microsoft.github.io/pxt-sample/</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">privacyUrl</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">https://go.microsoft.com/fwlink/?LinkId=521839</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">termsOfUseUrl</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">https://go.microsoft.com/fwlink/?LinkID=206977</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// 填充（？）菜单</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">docMenu</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">About</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">path</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">/about</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Docs</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">path</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">/docs</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// 为Blockly和JavaScript启用工具箱</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">coloredToolbox</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">monacoToolbox</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">invertedMenu</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">simAnimationEnter</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">rotate in</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">simAnimationExit</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">rotate out</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h3 id="cloud-appcloud" tabindex="-1">cloud?: AppCloud <a class="header-anchor" href="#cloud-appcloud" aria-hidden="true">#</a></h3><p>PXT有一个云后端，为web应用程序提供一组服务。使用pxttarget.json中的字段配置服务，该字段由接口定义：<code>cloud</code> <code>AppCloud</code></p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">interface</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">AppCloud</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">sharing</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">boolean</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;">      </span><span style="color:#676E95;font-style:italic;">// 通过URL启用项目的匿名共享</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">importing</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">boolean</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;">// 启用从先前共享的项目中导入</span></span>
<span class="line"><span style="color:#89DDFF;">                            </span><span style="color:#676E95;font-style:italic;">// URL（需要共享？出版？）</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">packages</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">boolean</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;">           </span><span style="color:#676E95;font-style:italic;">// 启用了软件包的加载（来自github）</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">preferredPackages</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#A6ACCD;">[]</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// github上软件包的公司/项目列表（#tag）</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">githubPackages</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">boolean</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;">     </span><span style="color:#676E95;font-style:italic;">// 启用用户指定的术语以搜索github以获取软件包</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// 即将弃用</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">publishing</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">boolean</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;">   </span><span style="color:#676E95;font-style:italic;">// 必须设置为true才能导入？工作；没有其他明显的目的</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">embedding</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">boolean</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// 当前不支持</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">workspaces</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">boolean</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>例如，在<a href="http://github.com/microsoft/pxt-microbit%E7%9A%84pxttarget.json" target="_blank" rel="noreferrer">http://github.com/microsoft/pxt-microbit的pxttarget.json</a> 中，我们看到：</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">cloud</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">: </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">workspace</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">packages</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">sharing</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">publishing</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">preferredPackages</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Microsoft/pxt-neopixel</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">    ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">githubPackages</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h3 id="simulator-appsimulator" tabindex="-1">simulator?: AppSimulator <a class="header-anchor" href="#simulator-appsimulator" aria-hidden="true">#</a></h3><p>PXT在web应用程序的左侧提供了一个基于JavaScript的模拟环境（通常用于micro:bit等物理计算设备）。PXT使用<a href="https://makecode.com/targets/board" target="_blank" rel="noreferrer">主板</a>来表示模拟器中显示的主要物理计算设备。每个目标都有一个板（外加可选部件）。</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">interface</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">AppSimulator</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// define aspects of physical computing device</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">boardDefinition</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">BoardDefinition</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// if true, boardDefinition comes from board package</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">dynamicBoardDefinition</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">boolean</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// running and code changes</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">autoRun</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">boolean</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;">          </span><span style="color:#676E95;font-style:italic;">// automatically run program after a change to its code</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">stopOnChange</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">boolean</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;">     </span><span style="color:#676E95;font-style:italic;">// stop execution when user changes code</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">headless</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">boolean</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;">         </span><span style="color:#676E95;font-style:italic;">// whether simulator should still run while collapsed</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// buttons and parts</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">hideRestart</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">boolean</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;">      </span><span style="color:#676E95;font-style:italic;">// hide the restart button </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">hideFullscreen</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">boolean</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;">   </span><span style="color:#676E95;font-style:italic;">// hide the fullscreen button</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">parts</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">boolean</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;">            </span><span style="color:#676E95;font-style:italic;">// parts enabled?</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">instructions</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">boolean</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;">     </span><span style="color:#676E95;font-style:italic;">// generate step-by-step wiring instructions (Make button)</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// appearance</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">aspectRatio</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">number</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;">       </span><span style="color:#676E95;font-style:italic;">// width / height</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">partsAspectRatio</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">number</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;">// aspect ratio of the simulator when parts are displayed</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// miscellaneous</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">trustedUrls</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#A6ACCD;">[]</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;">     </span><span style="color:#676E95;font-style:italic;">// URLs that are allowed in simulator modal messages</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>也可以在<a href="https://makecode.com/targets/board" target="_blank" rel="noreferrer">主板</a>封装中定义。<code>boardDefinition</code></p><h3 id="runtime-runtimeoptions" tabindex="-1">runtime?: RuntimeOptions <a class="header-anchor" href="#runtime-runtimeoptions" aria-hidden="true">#</a></h3><p>此严重命名错误的选项控制Blockly编辑器中的可用块：</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">interface</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">RuntimeOptions</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// control whether or not Blockly built-in categories appear</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">mathBlocks</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">boolean</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;">       </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">textBlocks</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">boolean</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">listsBlocks</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">boolean</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">variablesBlocks</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">boolean</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">logicBlocks</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">boolean</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">loopsBlocks</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">boolean</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// options specific to the special &quot;on start&quot; block</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">onStartNamespace</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// default = loops</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">onStartColor</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">onStartGroup</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">onStartWeight</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">number</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">onStartUnDeletable</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">boolean</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h3 id="compileservice-targetcompileservice" tabindex="-1">compileService?: TargetCompileService <a class="header-anchor" href="#compileservice-targetcompileservice" aria-hidden="true">#</a></h3><p>PXT提供了可能包含在目标/软件包中的C/C ++代码的编译服务。 当前，可以将此编译服务配置为使用<a href="https://www.mbed.com/en/platform/software/mbed-yotta/" target="_blank" rel="noreferrer">Yotta</a>或<a href="http://platformio.org/" target="_blank" rel="noreferrer">Platformio</a>。PXT默认使用Yotta和Platformio的本地安装。PXT希望在GitHub上找到C/C ++源。</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">interface</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">TargetCompileService</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">buildEngine</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;">           </span><span style="color:#676E95;font-style:italic;">// default is yotta, set to platformio</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// where are the sources</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">githubCorePackage</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;">     </span><span style="color:#676E95;font-style:italic;">// e.g. lancaster-university/microbit</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">gittag</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// yotta configuration</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">yottaCorePackage</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;">      </span><span style="color:#676E95;font-style:italic;">// name for PXT use</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">yottaTarget</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;">           </span><span style="color:#676E95;font-style:italic;">// name of yotta target to build</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">yottaBinary</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;">           </span><span style="color:#676E95;font-style:italic;">// name of yotta output file </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">yottaConfig</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">any</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;">              </span><span style="color:#676E95;font-style:italic;">// additional config</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// platformio configuration</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">platformioIni</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#A6ACCD;">[]</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;">       </span><span style="color:#676E95;font-style:italic;">// define contents of platformio.ini file</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">serviceId</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h4 id="uploaddocs-and-uploadapistringsbranchrx" tabindex="-1">uploadDocs and uploadApiStringsBranchRx <a class="header-anchor" href="#uploaddocs-and-uploadapistringsbranchrx" aria-hidden="true">#</a></h4><p>The flag determins if the API strings and docs have to be uploaded to crowdin when a build occurs on master or release branches.<code>uploadDocs</code></p><p>The flag provide a custom regex for matching the branch where api strings should be uploaded. From a stable branch, this would be <code>uploadApiStringsBranchRx </code> <code>^stable\\d+\\.\\d+$</code></p><h2 id="其他设置" tabindex="-1">其他设置 <a class="header-anchor" href="#其他设置" aria-hidden="true">#</a></h2><h3 id="模板项目" tabindex="-1">模板项目 <a class="header-anchor" href="#模板项目" aria-hidden="true">#</a></h3><p>您可以添加或修改使用新项目创建的默认文件，方法是添加 一个名为（制作它）的库。 <code>template</code> <code>hidden</code></p>`,50),e=[o];function t(c,r,y,D,i,F){return n(),a("div",null,e)}const u=s(p,[["render",t]]);export{A as __pageData,u as default};
